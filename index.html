<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Solana Neon Spin - Ultimate</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                neonPurple: '#d946ef', // Fuchsia-500
                neonBlue: '#06b6d4',   // Cyan-500
                neonGreen: '#10b981',  // Emerald-500
                neonGold: '#f59e0b',   // Amber-500
                darkBg: '#020617',     // Slate-950
                surface: '#0f172a',    // Slate-900
              },
              boxShadow: {
                'neon-glow': '0 0 15px rgba(217, 70, 239, 0.6), 0 0 30px rgba(6, 182, 212, 0.4)',
                'wheel-depth': 'inset 0 0 20px rgba(0,0,0,0.8), 0 10px 40px rgba(0,0,0,0.6)',
              },
              animation: {
                'float-slow': 'float 8s ease-in-out infinite',
                'pulse-subtle': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                'shake': 'shake 0.5s cubic-bezier(.36,.07,.19,.97) both',
              },
              keyframes: {
                float: {
                  '0%, 100%': { transform: 'translateY(0)' },
                  '50%': { transform: 'translateY(-10px)' },
                },
                shake: {
                  '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                  '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                  '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                  '40%, 60%': { transform: 'translate3d(4px, 0, 0)' }
                }
              }
            }
          }
        }
      </script>
    
    <!-- Solana Web3 -->
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>

    <style>
        body {
            background-color: #020617;
            color: white;
            font-family: 'Inter', sans-serif;
            overflow-x: hidden;
            margin: 0;
        }

        /* Particle & Grid Background */
        .bg-grid {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: -2;
            mask-image: radial-gradient(circle at 50% 50%, black 0%, transparent 90%);
        }

        .wheel-container {
            transition: transform 6s cubic-bezier(0.12, 0.8, 0.15, 1);
            will-change: transform;
        }

        .glass-card {
            background: rgba(15, 23, 42, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
        }

        /* 3D Wheel Effect */
        .wheel-border {
            box-shadow: 
                0 0 0 8px #1e293b, /* Rim */
                0 0 0 12px #334155, /* Outer Edge */
                0 20px 60px rgba(0,0,0,0.9); /* Drop Shadow */
        }

        .pointer-shadow {
            filter: drop-shadow(0 6px 6px rgba(0,0,0,0.7));
        }
    </style>
</head>
<body>

    <div id="root"></div>
    <div class="bg-grid"></div>

    <script type="text/babel">
        const { Connection, PublicKey, Transaction, SystemProgram, clusterApiUrl, LAMPORTS_PER_SOL, ComputeBudgetProgram } = solanaWeb3;

        // --- CONFIGURATION ---
        // Priority Fees: Critical for landing transactions on congested Mainnet
        const PRIORITY_FEE_MICRO_LAMPORTS = 50000; // Adjustable priority fee
        const COMPUTE_UNIT_LIMIT = 200000;

        // Fallback Endpoints
        const RPC_ENDPOINTS = [
            'https://api.mainnet-beta.solana.com',
            'https://rpc.ankr.com/solana',
            'https://solana-api.projectserum.com',
            'https://solana-mainnet.rpc.extrnode.com',
        ];

        const CONNECTION_CONFIG = { 
            commitment: 'confirmed', 
            confirmTransactionInitialTimeout: 60000, 
            disableRetryOnRateLimit: false
        };
        
        const SPIN_COST = 0.01; 
        const HOUSE_ADDRESS = "CTD6awXNUksKhCFcZX8Ubst2ANxioUUNX1iRbhTYKxby";

        const SEGMENTS = [
            { label: "2 SOL",   value: 2,    color: "#fbbf24", textColor: "#000", type: "win", weight: 0 },
            { label: "LOST",    value: 0,    color: "#ef4444", textColor: "#FFF", type: "lose", weight: 15 },
            { label: "0.1 SOL", value: 0.1,  color: "#8b5cf6", textColor: "#FFF", type: "win", weight: 10 },
            { label: "EMPTY",   value: 0,    color: "#64748b", textColor: "#FFF", type: "lose", weight: 10 },
            { label: "1 SOL",   value: 1,    color: "#f59e0b", textColor: "#000", type: "win", weight: 0 },
            { label: "AGAIN",   value: 0,    color: "#dc2626", textColor: "#FFF", type: "lose", weight: 15 },
            { label: "0.05 SOL", value: 0.05, color: "#10b981", textColor: "#FFF", type: "win", weight: 15 },
            { label: "BAD LUCK", value: 0,   color: "#475569", textColor: "#FFF", type: "lose", weight: 5 },
            { label: "0.5 SOL", value: 0.5,  color: "#0ea5e9", textColor: "#FFF", type: "win", weight: 5 },
            { label: "NO LUCK", value: 0,    color: "#991b1b", textColor: "#FFF", type: "lose", weight: 10 },
            { label: "5 SOL",   value: 5,    color: "#ec4899", textColor: "#FFF", type: "win", weight: 0 },
            { label: "BANKRUPT", value: 0,   color: "#1e293b", textColor: "#FFF", type: "lose", weight: 15 },
        ];

        const SEGMENT_ANGLE = 360 / SEGMENTS.length;

        // --- CONNECTION MANAGER ---
        class ConnectionManager {
            constructor() {
                this.currentIndex = 0;
                this.connection = new Connection(RPC_ENDPOINTS[0], CONNECTION_CONFIG);
            }

            getConnection() {
                return this.connection;
            }

            switchEndpoint() {
                this.currentIndex = (this.currentIndex + 1) % RPC_ENDPOINTS.length;
                const newEndpoint = RPC_ENDPOINTS[this.currentIndex];
                console.log(`Switching RPC to: ${newEndpoint}`);
                this.connection = new Connection(newEndpoint, CONNECTION_CONFIG);
                return newEndpoint;
            }
        }

        const connManager = new ConnectionManager();

        const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));
        
        async function withSmartRetry(fn, maxRetries = 5, baseDelay = 1000) {
            let attempt = 0;
            while (attempt < maxRetries) {
                try {
                    return await fn(connManager.getConnection());
                } catch (err) {
                    attempt++;
                    console.warn(`Attempt ${attempt} failed.`, err);
                    if (err.message && (err.message.includes('429') || err.message.includes('network') || err.message.includes('fetch'))) {
                        connManager.switchEndpoint();
                    }
                    if (attempt >= maxRetries) throw err;
                    const delay = baseDelay * Math.pow(1.5, attempt);
                    await sleep(delay);
                }
            }
        }

        const AudioEngine = {
            ctx: null,
            init: function() {
                if (!this.ctx) {
                    this.ctx = new (window.AudioContext || window.webkitAudioContext)();
                }
                if (this.ctx.state === 'suspended') {
                    this.ctx.resume();
                }
            },
            click: function() {
                if (!this.ctx) return;
                const t = this.ctx.currentTime;
                const osc = this.ctx.createOscillator();
                const gain = this.ctx.createGain();
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(400, t);
                osc.frequency.exponentialRampToValueAtTime(100, t + 0.02);
                gain.gain.setValueAtTime(0.2, t);
                gain.gain.exponentialRampToValueAtTime(0.01, t + 0.02);
                osc.connect(gain);
                gain.connect(this.ctx.destination);
                osc.start(t);
                osc.stop(t + 0.03);
            },
            win: function() {
                if (!this.ctx) return;
                const t = this.ctx.currentTime;
                [523.25, 659.25, 783.99, 1046.50, 1318.51].forEach((freq, i) => {
                    const osc = this.ctx.createOscillator();
                    const gain = this.ctx.createGain();
                    osc.type = 'sine';
                    osc.frequency.value = freq;
                    gain.gain.setValueAtTime(0, t + i*0.08);
                    gain.gain.linearRampToValueAtTime(0.2, t + i*0.08 + 0.05);
                    gain.gain.exponentialRampToValueAtTime(0.01, t + i*0.08 + 0.5);
                    osc.connect(gain);
                    gain.connect(this.ctx.destination);
                    osc.start(t + i*0.08);
                    osc.stop(t + i*0.08 + 0.6);
                });
            }
        };

        const getProvider = () => {
            if ('phantom' in window) {
                const provider = window.phantom?.solana;
                if (provider?.isPhantom) return provider;
            }
            return window.solana?.isPhantom ? window.solana : null;
        };

        function App() {
            const [walletAddress, setWalletAddress] = React.useState(null);
            const [balance, setBalance] = React.useState(null); 
            const [isSpinning, setIsSpinning] = React.useState(false);
            const [rotation, setRotation] = React.useState(0);
            const [status, setStatus] = React.useState({ type: 'info', msg: 'Connect Wallet to Play' });
            const [history, setHistory] = React.useState([]);
            const [soundEnabled, setSoundEnabled] = React.useState(true);
            const [shake, setShake] = React.useState(false);

            const connectWallet = async () => {
                const provider = getProvider();
                if (provider) {
                    try {
                        const resp = await provider.connect();
                        const pubKey = resp.publicKey.toString();
                        setWalletAddress(pubKey);
                        setStatus({ type: 'success', msg: 'Connected! Fetching data...' });
                        AudioEngine.init();
                        fetchBalance(resp.publicKey);
                    } catch (err) {
                        setStatus({ type: 'error', msg: 'Connection rejected.' });
                    }
                } else {
                    window.open("https://phantom.app/", "_blank");
                }
            };

            const fetchBalance = async (publicKey) => {
                try {
                    const bal = await withSmartRetry(async (conn) => {
                        return await conn.getBalance(publicKey);
                    });
                    setBalance(bal / LAMPORTS_PER_SOL);
                    if (bal === 0) setStatus({ type: 'info', msg: 'Balance is 0 SOL.' });
                    else setStatus({ type: 'success', msg: 'Ready to Spin!' });
                } catch (err) {
                    console.error("Balance Error:", err);
                    setStatus({ type: 'error', msg: 'Network Busy (Balance).' });
                }
            };

            const handleSpin = async () => {
                if (!walletAddress || isSpinning) return;
                AudioEngine.init();

                const provider = getProvider();
                if (!provider) return;

                if (balance !== null && balance < SPIN_COST) {
                    setStatus({ type: 'error', msg: `Insufficient Funds (${SPIN_COST} SOL)` });
                    return;
                }

                setStatus({ type: 'process', msg: 'Building Priority Tx...' });

                try {
                    const sender = new PublicKey(walletAddress);
                    const receiver = new PublicKey(HOUSE_ADDRESS); 

                    // 1. Get Blockhash
                    const blockhashObj = await withSmartRetry(async (conn) => {
                        return await conn.getLatestBlockhash('finalized');
                    });

                    const transaction = new Transaction({
                        recentBlockhash: blockhashObj.blockhash,
                        feePayer: sender
                    });

                    // 2. ADD PRIORITY FEES (Compute Budget)
                    // This is key for reliability on congested networks
                    const addPriorityFee = ComputeBudgetProgram.setComputeUnitPrice({
                        microLamports: PRIORITY_FEE_MICRO_LAMPORTS
                    });
                    
                    const setComputeUnitLimit = ComputeBudgetProgram.setComputeUnitLimit({
                        units: COMPUTE_UNIT_LIMIT
                    });

                    const transferInstruction = SystemProgram.transfer({
                        fromPubkey: sender,
                        toPubkey: receiver, 
                        lamports: Math.round(SPIN_COST * LAMPORTS_PER_SOL),
                    });

                    transaction.add(setComputeUnitLimit, addPriorityFee, transferInstruction);

                    setStatus({ type: 'process', msg: 'Approve in Wallet...' });
                    const signedTransaction = await provider.signTransaction(transaction);
                    
                    setStatus({ type: 'process', msg: 'Sending (Priority Mode)...' });
                    
                    // 3. Send Raw Transaction
                    await withSmartRetry(async (conn) => {
                        const signature = await conn.sendRawTransaction(signedTransaction.serialize(), {
                            skipPreflight: true,
                            preflightCommitment: 'confirmed',
                        });
                        console.log("Sent Tx:", signature);
                        
                        const confirmation = await conn.confirmTransaction({
                            signature,
                            blockhash: blockhashObj.blockhash,
                            lastValidBlockHeight: blockhashObj.lastValidBlockHeight
                        }, 'confirmed');
                        
                        if(confirmation.value.err) throw new Error("Tx failed");
                        return signature;
                    }, 3, 2000);

                    setStatus({ type: 'process', msg: 'Spinning! ðŸŽ¡' });
                    startWeightedSpin();
                    
                    setTimeout(() => fetchBalance(sender), 5000);

                } catch (error) {
                    console.error("Spin Error:", error);
                    if (error.message?.includes("User rejected")) {
                        setStatus({ type: 'error', msg: 'Transaction Cancelled' });
                    } else {
                        setStatus({ type: 'error', msg: 'Network Busy. Trying again usually works.' });
                    }
                }
            };

            const startWeightedSpin = () => {
                setIsSpinning(true);
                
                const totalWeight = SEGMENTS.reduce((sum, seg) => sum + seg.weight, 0);
                let randomNum = Math.random() * totalWeight;
                let selectedIndex = 0;
                for (let i = 0; i < SEGMENTS.length; i++) {
                    if (randomNum < SEGMENTS[i].weight) {
                        selectedIndex = i;
                        break;
                    }
                    randomNum -= SEGMENTS[i].weight;
                }

                const segmentCenter = selectedIndex * SEGMENT_ANGLE + (SEGMENT_ANGLE / 2);
                const stopAngle = 360 - segmentCenter;
                const fuzziness = (Math.random() - 0.5) * (SEGMENT_ANGLE * 0.8);
                
                const extraSpins = 360 * 6; 
                const targetRotation = rotation + extraSpins + (stopAngle - (rotation % 360)) + fuzziness;
                const finalRotation = Math.max(targetRotation, rotation + 360 * 5); 

                setRotation(finalRotation);

                if (soundEnabled) {
                    const duration = 6000;
                    const startTime = Date.now();
                    let lastTickAngle = rotation;
                    const tickSpacing = SEGMENT_ANGLE;

                    const tickLoop = () => {
                        const elapsed = Date.now() - startTime;
                        if (elapsed >= duration) return;

                        const t = Math.min(1, elapsed / duration);
                        const ease = 1 - Math.pow(1 - t, 3);
                        const currentAngle = rotation + (finalRotation - rotation) * ease;
                        
                        if (currentAngle - lastTickAngle >= tickSpacing) {
                            AudioEngine.click();
                            lastTickAngle = currentAngle;
                        }
                        requestAnimationFrame(tickLoop);
                    };
                    tickLoop();
                }

                setTimeout(() => {
                    setIsSpinning(false);
                    calculateResult(selectedIndex);
                }, 6000);
            };

            const calculateResult = (index) => {
                const result = SEGMENTS[index];
                setHistory(prev => [result, ...prev].slice(0, 5));

                if (result.type === 'win') {
                    setStatus({ type: 'win', msg: `WINNER! ${result.label}` });
                    setShake(true);
                    if(soundEnabled) AudioEngine.win();
                    confetti({
                        particleCount: 200,
                        spread: 100,
                        origin: { y: 0.6 },
                        colors: ['#d946ef', '#00ff9d', '#f59e0b'],
                        zIndex: 50
                    });
                    setTimeout(() => setShake(false), 500);
                } else {
                    setStatus({ type: 'lose', msg: result.label });
                }
            };

            return (
                <div className={`flex flex-col items-center justify-center min-h-screen relative overflow-hidden pb-10 ${shake ? 'animate-shake' : ''}`}>
                    
                    {/* Header */}
                    <div className="absolute top-0 left-0 w-full p-4 z-30 flex justify-center">
                        <div className="glass-card rounded-full px-6 py-3 flex items-center justify-between w-full max-w-lg shadow-neon-glow animate-float-slow">
                            <div className="flex items-center gap-3">
                                <div className="w-9 h-9 bg-gradient-to-br from-neonPurple to-neonBlue rounded-full flex items-center justify-center shadow-lg">
                                    <span className="text-lg font-bold text-white">â—Ž</span>
                                </div>
                                <div>
                                    <div className="text-[10px] text-gray-400 font-bold tracking-widest">SOLANA</div>
                                    <div className="text-sm font-black text-white leading-none">NEON SPIN</div>
                                </div>
                            </div>
                            
                            <div className="flex items-center gap-3">
                                {walletAddress && (
                                    <div className="text-right hidden sm:block">
                                        <div className="text-[9px] text-gray-400 font-bold uppercase">Balance</div>
                                        <div className="text-xs font-mono text-neonGreen">
                                            {balance === null ? "Loading..." : `${balance.toFixed(3)} SOL`}
                                        </div>
                                    </div>
                                )}
                                
                                <button onClick={() => setSoundEnabled(!soundEnabled)} className="w-9 h-9 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition border border-white/10">
                                    {soundEnabled ? 'ðŸ”Š' : 'ðŸ”‡'}
                                </button>

                                {!walletAddress ? (
                                    <button onClick={connectWallet} className="bg-gradient-to-r from-neonPurple to-blue-600 text-white px-5 py-2 rounded-full font-bold text-xs transition hover:scale-105 shadow-lg">
                                        Connect
                                    </button>
                                ) : (
                                    <div className="w-3 h-3 rounded-full bg-neonGreen shadow-[0_0_10px_#10b981]"></div>
                                )}
                            </div>
                        </div>
                    </div>

                    {/* Wheel Section */}
                    <div className="relative z-10 mt-16 scale-90 sm:scale-100">
                        
                        {/* The "Master" Pointer */}
                        <div className="absolute -top-14 left-1/2 transform -translate-x-1/2 z-40 pointer-events-none pointer-shadow">
                            <div className="flex flex-col items-center">
                                {/* Mounting Point */}
                                <div className="w-6 h-6 rounded-full bg-gradient-to-br from-gray-200 to-gray-500 border-2 border-gray-600 shadow-lg z-20"></div>
                                {/* Arm */}
                                <div className="w-3 h-14 -mt-3 bg-gradient-to-b from-neonGold to-yellow-800 rounded-b-lg shadow-xl border-x border-yellow-900 z-10"></div>
                                {/* Tip */}
                                <div className="w-0 h-0 -mt-2 border-l-[8px] border-l-transparent border-r-[8px] border-r-transparent border-t-[20px] border-t-yellow-800 filter drop-shadow-lg"></div>
                            </div>
                        </div>

                        {/* Wheel Frame */}
                        <div className="w-[340px] h-[340px] sm:w-[420px] sm:h-[420px] rounded-full bg-gray-900 relative wheel-border flex items-center justify-center">
                            
                            {/* Rotating Wheel */}
                            <div 
                                className="w-[95%] h-[95%] rounded-full wheel-container overflow-hidden relative shadow-inner"
                                style={{ 
                                    transform: `rotate(${rotation}deg)`,
                                    background: `conic-gradient(
                                        ${SEGMENTS[0].color} 0deg 30deg,
                                        ${SEGMENTS[1].color} 30deg 60deg,
                                        ${SEGMENTS[2].color} 60deg 90deg,
                                        ${SEGMENTS[3].color} 90deg 120deg,
                                        ${SEGMENTS[4].color} 120deg 150deg,
                                        ${SEGMENTS[5].color} 150deg 180deg,
                                        ${SEGMENTS[6].color} 180deg 210deg,
                                        ${SEGMENTS[7].color} 210deg 240deg,
                                        ${SEGMENTS[8].color} 240deg 270deg,
                                        ${SEGMENTS[9].color} 270deg 300deg,
                                        ${SEGMENTS[10].color} 300deg 330deg,
                                        ${SEGMENTS[11].color} 330deg 360deg
                                    )`
                                }}
                            >
                                {/* Segments */}
                                {SEGMENTS.map((seg, i) => (
                                    <React.Fragment key={i}>
                                        {/* Divider */}
                                        <div className="absolute top-0 left-1/2 w-[1px] h-1/2 bg-white/20 origin-bottom transform -translate-x-1/2" style={{ transform: `rotate(${i * 30}deg)` }}></div>
                                        
                                        {/* Label */}
                                        <div 
                                            className="absolute top-0 left-0 w-full h-full"
                                            style={{ transform: `rotate(${i * 30 + 15}deg)` }}
                                        >
                                            <div className="absolute top-5 left-1/2 -translate-x-1/2 text-center">
                                                <div 
                                                    className="font-black text-[11px] sm:text-xs uppercase tracking-wider whitespace-nowrap"
                                                    style={{ 
                                                        color: seg.textColor,
                                                        writingMode: 'vertical-rl',
                                                        textOrientation: 'mixed',
                                                        transform: 'rotate(180deg)',
                                                        textShadow: '0 1px 3px rgba(0,0,0,0.4)'
                                                    }}
                                                >
                                                    {seg.label}
                                                </div>
                                            </div>
                                        </div>
                                    </React.Fragment>
                                ))}
                            </div>

                            {/* Center Hub */}
                            <div className="absolute w-20 h-20 rounded-full bg-gradient-to-br from-gray-800 to-black border-4 border-gray-700 shadow-2xl flex items-center justify-center z-10">
                                <div className="w-12 h-12 rounded-full bg-gray-900 flex items-center justify-center border border-gray-600">
                                    <div className="w-3 h-3 bg-neonBlue rounded-full animate-pulse-subtle shadow-[0_0_15px_#06b6d4]"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Controls */}
                    <div className="mt-12 z-20 flex flex-col items-center w-full max-w-xs px-4">
                        
                        <div className={`w-full text-center py-3 rounded-xl font-bold text-sm mb-4 transition-all border backdrop-blur-md ${
                            status.type === 'error' ? 'bg-red-500/20 border-red-500 text-red-100' :
                            status.type === 'win' ? 'bg-neonGreen/20 border-neonGreen text-neonGreen shadow-[0_0_20px_rgba(16,185,129,0.3)]' :
                            status.type === 'process' ? 'bg-blue-500/20 border-blue-400 text-blue-100 animate-pulse' :
                            'bg-white/5 border-white/10 text-gray-300'
                        }`}>
                            {status.msg}
                        </div>

                        <button 
                            onClick={handleSpin}
                            disabled={!walletAddress || isSpinning}
                            className={`
                                w-full py-4 rounded-2xl font-black text-xl tracking-wider transition-all duration-200 transform
                                ${!walletAddress 
                                    ? 'bg-slate-800 text-slate-600 cursor-not-allowed border border-slate-700' 
                                    : isSpinning 
                                        ? 'bg-slate-700 text-slate-500 cursor-wait scale-95 border border-slate-600'
                                        : 'bg-gradient-to-r from-neonPurple to-neonBlue text-white shadow-lg hover:shadow-neonPurple/50 hover:scale-105 active:scale-95 border-t border-white/20'
                                }
                            `}
                        >
                            {isSpinning ? 'SPINNING...' : `SPIN ${SPIN_COST} SOL`}
                        </button>

                        {/* History */}
                        {history.length > 0 && (
                            <div className="flex gap-2 mt-6">
                                {history.map((h, i) => (
                                    <div key={i} className={`
                                        w-8 h-8 rounded-lg flex items-center justify-center text-[10px] font-bold border shadow-sm transition-all
                                        ${h.type === 'win' ? 'bg-neonGreen/20 border-neonGreen text-neonGreen' : 'bg-red-500/20 border-red-500 text-red-400'}
                                    `}>
                                        {h.type === 'win' ? 'W' : 'L'}
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>

                    <div className="fixed bottom-4 text-[9px] text-gray-600 font-bold tracking-[0.3em] opacity-40">
                        SOLANA MAINNET
                    </div>

                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
